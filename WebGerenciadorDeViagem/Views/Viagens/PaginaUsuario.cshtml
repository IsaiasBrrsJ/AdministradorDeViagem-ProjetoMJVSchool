@model IEnumerable<GerenciadorDeViagem.WEB.Models.Viagem>

@{
    ViewData["Title"] = "Viagem Agendadas";
}

<h1>Viagens Agendadas</h1>
@{
    var matriculaUserLogado = Model.Select(e => e.MatriculaUserLogado);
}
<style>
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }

    .table {
        overflow-x: auto
    }
    th, td {
        padding: 8px;

        text-align: left;
    }

    @@media (max-width: 568px) {
        thead{
            display:none;
        }
    th, td {
        display: block;
        width: 100%;
        box-sizing: border-box;
    }

    th {
        text-align: center;
    }

}
</style>
<div class="table">
    <table  class="table table-striped table-hover table-sm" style="width:100%">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Destino)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataIda)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataVolta)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.TipoTransporte)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataDaSolicitacao)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.MatriculaAprovador)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MatriculaSolicitante)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.StatusViagem)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Destino)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataIda)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataVolta)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TipoTransporte)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataDaSolicitacao)
                    </td>

                  
                    <td>
                        @Html.DisplayFor(modelItem => item.MatriculaAprovador)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MatriculaSolicitante)
                    </td>
                   
                    <td>
                        @if ((item.DataIda < DateTime.Now) && (item.StatusViagem != GerenciadorDeViagem.WEB.Models.Enum.StatusViagem.Cancelada || item.StatusViagem != GerenciadorDeViagem.WEB.Models.Enum.StatusViagem.Aprovado || item.StatusViagem != GerenciadorDeViagem.WEB.Models.Enum.StatusViagem.Pendente))
                        {
                            <button disabled type="button" class="btn btn-danger">Tempo Excedido</button>
                        }
                        else if (item.StatusViagem == GerenciadorDeViagem.WEB.Models.Enum.StatusViagem.Cancelada)
                        {
                            <button disabled type="button" class="btn btn-danger">Viagem Cancelada</button>
                        }
                        else if (item.StatusViagem == GerenciadorDeViagem.WEB.Models.Enum.StatusViagem.Aprovado)
                        {
                            <button disabled type="button" class="btn btn-success">Viagem Aprovada</button>
                        }
                        else
                        {
                            <button disabled type="button" class="btn btn.warning">Viagem Pendente </button>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<a asp-action="Create" asp-route-matricula="@matriculaUserLogado"><button type="button" class="btn btn-dark">Marcar Viagem</button></a>
<style>
    .page-item.active .page-link {
       
        color: #fff;
        background-color: black;
        border-color: black;
        border-radius: 3px;
    }
</style>